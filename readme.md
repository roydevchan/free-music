# MusicFree

> - 如果你在其他的平台看到收费版/无广告版/破解版，都是假的，本来就是开源项目，**遇到收费版请直接举报**；  
> - 软件首先是自用，顺带分享出来希望可以帮助到有需要的人；是业余作品，会尽量保持维护，不过每天能写的时间有限（半小时左右），目测会有很长一段时间处于不稳定测试版本，且更新频率不定，请谨慎使用； 
> - 软件的第三方插件、及其所产生的数据与本软件无关，请合理合法使用，可能产生的版权数据请及时删除。
> - **请不要以VIP/破解版为噱头进行宣传**，示例仓库基于互联网公开接口封装，并**过滤掉所有VIP、试听、付费歌曲**，且示例仓库以后也**不会提供具备破解功能的插件**；
> - 本软件的相关信息**只会主动投放在Git仓库以及公众号“一只猫头猫”中**，如果希望写文章介绍本软件请自便，但还烦请**如实陈述，涉及到示例仓库请给插件源打个码**，不要给软件增加一些不实的功能（尽管我也想有）；描述冲突的地方以本仓库为准。
> 

## 简介
一个插件化、定制化、无广告的免费音乐播放器，目前只支持Android和Harmony OS。

如果需要了解后续进展可以关注~~b站账号：[不想睡觉猫头猫](https://space.bilibili.com/12866223)~~(不到一天就被吞了！还是关注公众号↓吧)；如果有问题可以在issue区或者公众号反馈。
技术交流/一起写点有意思的东西/技术向的闲聊欢迎加群：[683467814](https://jq.qq.com/?_wv=1027&k=upVpi2k3)~

简介视频放在了公众号里：[简介视频](https://mp.weixin.qq.com/s/sH_2vRm7EyBGgWggkJmsdg)

![微信公众号](./src/assets/imgs/wechat_channel.jpg)


## 特性
- 插件化：本软件仅仅是一个播放器，本身**并不集成**任何平台的任何音源，所有的搜索、播放、歌单导入等功能全部基于**插件**。这也就意味着，**只要可以在互联网上搜索到的音源，只要有对应的插件，你都可以使用本软件进行搜索、播放等功能**。关于插件的详细说明请看插件一节。

- 插件支持的功能：搜索（音乐、专辑、作者）、播放、查看专辑、查看作者详细信息、导入单曲、导入歌单、获取歌词等。

- 定制化、无广告：本软件提供了浅色、深色模式；支持自定义背景；本软件基于GPL协议开源，~~一个star做交易~~ 将会保持免费。
- 隐私：所有的数据都存储在本地，本软件不会收集你的任何个人信息。
- 歌词关联：你可以把两首歌的歌词关联起来，比如将歌曲A的歌词关联到歌曲B，关联后A、B两首歌都将显示歌曲B的歌词。你也可以关联多首歌的歌词，如A->B->C，这样A、B、C三首歌都将显示C的歌词。

## 插件
### 插件简介
插件本质上是一个满足插件协议的js函数。插件中定义了搜索（音乐、专辑、作者）、播放、查看专辑、作者详细信息、导入歌单、获取歌词等基本函数，插件的开发者只需要关心输入输出逻辑，至于分页、缓存等全都交给MusicFree控制即可。本软件通过插件来完成播放器的所有功能，这样解耦的设计也可以使得本软件可以专注于做一个功能完善的播放器，我直呼小而美。

插件开发文档可以参考 [这里](http://blog.upup.fun/2022/09/15/%E5%BC%80%E5%8F%91MusicFree%E6%8F%92%E4%BB%B6/) (写的很简略....真的有人需要的时候再详细写吧..)


需要注意的是：
- 如果你是使用第三方下载的插件，那么请自行鉴别插件的安全性（基本上看下没有奇怪的网络请求什么的就好了；自己写的最安全，*不要安装来路不明的东西*），防止恶意代码破坏。因为第三方恶意插件导致的可能的损失与本软件无关。

- 插件使用过程中可能会产生某些和本软件无关的版权数据，插件、以及插件产生的任何数据与本软件无关，请使用者自行斟酌，及时删除数据，本软件不提倡也不会提供任何破解行为，你可以搭建自己的离线音乐仓库使用。

### 插件使用
下载app之后，只需要在侧边栏设置-插件设置中安装插件即可。支持安装本地插件和从网络安装插件（支持解析.js文件和.json描述文件；已经写了几个示意的插件：[指路这个仓库](https://github.com/maotoumao/MusicFreePlugins)，不过可能功能不是很完善）；
你可以直接点击从网络安装插件，然后输入https://gitee.com/maotoumao/MusicFreePlugins/raw/master/plugins.json ，点击确认即可安装。

图文版详细使用说明可以参考这里：[MusicFree插件使用指南](https://mp.weixin.qq.com/s?__biz=MzkxOTM5MDI4MA==&mid=2247483875&idx=1&sn=aedf8bb909540634d927de7fd2b4b8b1&chksm=c1a390c4f6d419d233908bb781d418c6b9fd2ca82e9e93291e7c93b8ead3c50ca5ae39668212#rd)

## 下载地址
请转到发布页查看：[指路](https://github.com/maotoumao/MusicFree/releases) (如果打不开可以把github换成gitee)，公众号回复Musicfree也可以。

## Q&A
使用时遇到的常见问题可以看这里：[MusicFree使用Q&A](https://mp.weixin.qq.com/s?__biz=MzkxOTM5MDI4MA==&mid=2247483937&idx=1&sn=486c735b1fb78acc75f8f4acdcb9e253&chksm=c1a39306f6d41a101a6f8d3adefcd980092ce94140119bb3cc0eb3aa8c6ae22fe1b97899be21#rd)

## WIP
当前开发进度以及问题&需求列表可以看这里：
[MusicFree建议&bug](https://docs.qq.com/sheet/DT3djQm1ReWJya2Vo?tab=BB08J2)

## ChangeLog
`2022.11.13  v0.0.1-alpha.8`
1. 【功能】侧边栏插件设置新增“订阅插件”功能，订阅之后直接点击“更新插件”即可更新，不需要清空重装了
2. 【功能】本地音乐读取内置封面
3. 【功能】本地音乐歌单支持批量删除（不删除源文件）
4. 【优化】重写导入本地音乐的逻辑，支持多选文件夹；修复部分机型重启应用时本地音乐消失的问题（可能需要删除后重新导入）；支持导入flac,wav,wav,m4a,ogg等格式
5. 【优化】重写播放列表浮层，拉起时会锚定到当前正在播放的歌曲
6. 【优化】调整部分逻辑，可能会减少音频卡顿时卡死的情况
7. 【修复】修复歌曲详情页进度条不连续的问题
8. 【修复】修复某些情况下无法关联歌词的问题
9. 【修复】修复正在播放的歌曲无歌词时，进入歌词页白屏的问题
10. 【插件】示例插件有更新，可以删掉原有插件重新导入

`2022.10.30  v0.0.1-alpha.7`
1. 新增功能：历史记录一键清空
2. 新增功能：歌手页、本地歌单页支持批量编辑
3. 修复移动网络下无法播放本地音乐的问题
4. 样式优化&修复：toast提示显示异常、侧边栏样式优化、歌单内序号显示不全、【关于】页无法滑动
5. 之前使用的拖拽排序组件在列表较大时有很严重的性能问题，会导致卡顿甚至白屏，因此批量编辑页暂时去掉了拖拽排序，后续会重新加上
6. 插件：网易云插件支持导入201首以上的歌单，可以去侧边栏更新，插件新增酷狗源，可以去对应github仓库查看。

`2022.10.22  v0.0.1-alpha.6`
1. 重要!! v0.0.1-alpha.5以前的版本无法通过app正常更新，请在gitee/github发布页下载最新版本(v0.0.1-alpha.6)，或QQ群自取；
2. 导入本地音乐时，如果未识别本地音乐文件，则会使用文件名作为音乐名；
3. 自建歌单、专辑详情页增加批量选择功能，可点击右上角查看(歌曲较多时可能有点卡，后续优化)；使用方式：选中歌曲可进行下一首播放/加入歌单/下载/删除，长按拖动进行排序；删除/排序后点击保存按钮方可生效
4. 调整歌单内歌曲编号字体大小；

`2022.10.16  v0.0.1-alpha.5`
1. 新增功能：导入本地音乐文件
2. 从网络源安装的插件可在插件页直接更新
3. 调整下载逻辑

`2022.10.06  v0.0.1-alpha.4`
1. 修复专辑详情页没有loading的问题
2. 为插件新增Cookie管理器
3. 优化播放页的显示
4. 新增一键卸载全部插件的功能

`2022.10.04  v0.0.1-alpha.3`
1. 修复设置页无法滚动的问题
2. 修复播放结束时可能暂停的问题

`2022.10.03  v0.0.1-alpha.2`
1. 插件协议更新，需要重新安装插件
2. 支持批量导入插件
3. 新增清空播放列表功能
4. 优化搜索结果面板和播放专辑逻辑

`2022.10.02`
测试版本出现啦！撒花

## 支持这个项目
如果你喜欢这个项目，或者希望我可以持续维护下去，你可以通过以下任何一种方式支持我;)
1. Star这个项目，分享给你身边的人；
2. 关注公众号或b站[不想睡觉猫头猫](https://space.bilibili.com/12866223)获取最新信息；

![微信公众号](./src/assets/imgs/wechat_channel.jpg)


感谢以下小伙伴的推荐，很意外也很惊喜 ~~~

来自**果核剥壳**的安利~ https://mp.weixin.qq.com/s/F6hMbLv_a-Ty0fPA_0P0Rg

来自**小棉袄**的安利~ https://mp.weixin.qq.com/s/Fqe3o7vcTw0KDKoB-gsQfg


---
本项目仅供学习参考使用，基于GPL3.0协议开源；请在符合法律法规的情况下合理使用本项目，禁止用于商业目的使用。


## 应用截图
#### 主界面
![主界面](./.imgs/main.jpg)

#### 侧边栏
- 基础设置
![基础设置](./.imgs/basic-setting.jpg)

- 插件设置
![插件设置](./.imgs/plugin-setting.jpg)

- 主题设置
![主题设置](./.imgs/theme-setting.jpg)

#### 音乐相关
- 歌单页
![歌单页](./.imgs/song-sheet.jpg)

- 歌单内检索
![歌单内检索](./.imgs/search-in-sheet.jpg)

- 播放页
![播放页](./.imgs/song-cover.jpg)

- 歌词页
![歌词页](./.imgs/song-lrc.jpg)

- 播放列表页
![播放列表页](./.imgs/play-list.jpg)

#### 搜索相关
- 搜索单曲
![搜索单曲](./.imgs/search.jpg)

- 搜索专辑
![搜索专辑](./.imgs/search-album.jpg)

- 专辑信息
![专辑信息](./.imgs/album-detail.jpg)

- 搜索作者
![搜索作者](./.imgs/search-artist.jpg)

- 作者信息
![专辑信息](./.imgs/artist-detail.jpg)
